<!DOCTYPE html>
<html lang="ru" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>V - Mash Life</title>
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Language" content="ru">
  <meta name="generator" content="N/A">
  <meta name="language" content="Russian">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
  <style>
    /* Указываем box sizing */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    /* Убираем внутренние отступы */
    ul[class],
    ol[class] {
      padding: 0;
    }

    /* Убираем внешние отступы */
    body,
    h1,
    h2,
    h3,
    h4,
    p,
    ul[class],
    ol[class],
    li,
    figure,
    figcaption,
    blockquote,
    dl,
    dd {
      margin: 0;
    }

    /* Выставляем основные настройки по-умолчанию для body */
    body {
      min-height: 100vh;
      scroll-behavior: smooth;
      text-rendering: optimizeSpeed;
      line-height: 1.5;
    }

    /* Удаляем стандартную стилизацию для всех ul и il, у которых есть атрибут class*/
    ul[class],
    ol[class] {
      list-style: none;
    }

    /* Элементы a, у которых нет класса, сбрасываем до дефолтных стилей */
    a:not([class]) {
      text-decoration-skip-ink: auto;
    }

    /* Упрощаем работу с изображениями */
    img {
      max-width: 100%;
      display: block;
    }

    /* Указываем понятную периодичность в потоке данных у article*/
    article>*+* {
      margin-top: 1em;
    }

    /* Наследуем шрифты для инпутов и кнопок */
    input,
    button,
    textarea,
    select {
      font: inherit;
    }

    /* Удаляем все анимации и переходы для людей, которые предпочитай их не использовать */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
  <style>
    .mashvic-main {
      width: 100%;
      height: 100vh;
      background: url(./bg.png) repeat center center / cover;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      color: #4D4D4D;
    }

    .mashvic-inside {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      width: 580px;
      padding: 0 10px 60px;
    }

    .mashvic-num {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      margin: 60px auto 0;
    }

    #mashvic-count {
      font-family: 'Circe', Arial, Helvetica, sans-serif;
      font-size: 16px;
      font-style: normal;
      font-weight: 700;
      line-height: 20px;
      letter-spacing: 0em;
      text-align: right;
      color: #697536;
      min-width: 18px;
    }

    #mashvic-question-number {
      font-family: 'Circe', Arial, Helvetica, sans-serif;
      font-size: 16px;
      font-style: normal;
      font-weight: 400;
      line-height: 20px;
      letter-spacing: 0em;
      text-align: center;
      color: #B7BE90;
    }

    .mashvic-line {
      width: 1px;
      height: 20px;
      margin: 0 16px;
      background: rgba(0, 0, 0, 0.25);
    }

    .mashvic-question {
      font-family: 'Circe', Arial, Helvetica, sans-serif;
      font-size: 24px;
      font-style: normal;
      font-weight: 700;
      line-height: 28px;
      letter-spacing: 0em;
      text-align: center;
      width: 100%;
      margin: 30px auto 0;
    }

    .mashvic-answers {
      width: 100%;
      padding: 0 !important;
      margin-top: 10px !important;
    }

    .mashvic-answer {
      display: flex;
      flex-direction: row;
      align-items: center;
      padding: 15px 20px;
      width: 100%;
      background: #FFFFFF;
      border: 1px solid #EAECE2;
      box-sizing: border-box;
      border-radius: 10px;
      margin-top: 5px !important;
      cursor: pointer;
      user-select: none;
      outline: none;
      outline-style: none;
      -moz-outline-style: none;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }

    .mashvic-answered {
      background: #B1BC84;
      box-shadow: 0px 0px 20px rgba(108, 116, 62, 0.25);
      border: 1px solid #99A277;
    }

    .mashvic-dot-inside-answered {
      width: 7px;
      height: 7px;
      background: #697536;
      border-radius: 100%;
    }

    .mashvic-answered .mashvic-answer-span {
      color: #FFFFFF;
    }

    .mashvic-dot {
      width: 15px;
      height: 15px;
      background-color: #FFFFFF;
      border: 1px solid #697536;
      box-sizing: border-box;
      border-radius: 100px;
      margin-right: 16px;
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .mashvic-answer-span {
      font-family: 'Circe', Arial, Helvetica, sans-serif;
      font-size: 16px;
      font-style: normal;
      font-weight: 400;
      line-height: 18px;
      letter-spacing: 0em;
      text-align: left;
      width: calc(100% - 15px - 16px);
    }

    @media only screen and (max-width: 1024px) {
      .mashvic-inside {
        width: 480px;
      }
    }

    @media only screen and (max-width: 480px) {
      .mashvic-inside {
        max-width: 480px;
        width: 100%;
      }
    }
  </style>
</head>

<body>
  <div class="mashvic-main">

    <div class="mashvic-inside">
      <div class="mashvic-num">
        <span id="mashvic-count" data-number=""></span>
        <div class="mashvic-line"></div>
        <span id="mashvic-question-number" data-number=""></span>
      </div>

      <p class="mashvic-question">
      </p>

      <ul class="mashvic-answers">
        <li onclick="calculate(this)" data-type="A" class="mashvic-answer">
          <div class="mashvic-dot">
            <div class="mashvic-dot-inside"></div>
          </div><span class="mashvic-answer-span"></span>
        </li>
        <li onclick="calculate(this)" data-type="B" class="mashvic-answer">
          <div class="mashvic-dot">
            <div class="mashvic-dot-inside"></div>
          </div><span class="mashvic-answer-span"></span>
        </li>
        <li onclick="calculate(this)" data-type="C" class="mashvic-answer">
          <div class="mashvic-dot">
            <div class="mashvic-dot-inside"></div>
          </div><span class="mashvic-answer-span"></span>
        </li>
      </ul>
    </div>
  </div>

  <script>
    var table = {
      "questions": [
        "Тело", "Плечи", "Грудь", "Икры", "Суставы", "Вес", "Кожа", "Цвет лица", "Ногти", "Волосы", "Уши", "Глаза", "Нос", "Губы", "Зубы", "Десна", "Язык", "Вкусовые предпочтения", "Аппетит", "Пищеварение", "Стул", "Моча", "Пот", "Половое влечение", "Менструации", "Чато беспокоящие симптомы", "Чувствительность к внешней среде", "Планирование", "Принятие решений", "Память", "Ум", "Мышление", "Деятельность", "Общение", "Вера", "Отношение к деньгам", "Преобладающие эмоции", "Смена настроения", "Сон", "Сновидения"
      ],
      "A": [
        "Высокий или маленький рост, умеренно развитое тело", "Узкие, небольшие, плоские", "Небольшая, узкая, слабо  развитая", "Маленькие, твердые", "Маленькие, сухие, издающие хруст, неустойчивые", "Недовес. Трудно набрать вес", "Сухая, тонкая, легко трескается Склонная к образованию мозолей Кисти рук и ног - холодные", "Темный", "Маленькие, тонкие, сухие, ломающиеся, темноватые", "Сухие, тусклые, с секущимися концами, темные, жесткие, курчавые", "Шум в ушах", "Часто сухие, чешутся, склеры сероватые или голубоватые", "Сухие, покрыты коркой изнутри", "Частоя появляются трещины, заеды в уголках", "Кариес, нарушение эмали", "Слабые", "Сухой, с тонким сероватым налетом", "Злоупотребление жирной и сладкой пищи, либо сидит на диете", "Изменчивы, непостоянный", "Нерегулярное, с вздутием живота", "Нерегулярный, твердый, сухой, выходящий с трудом или болезненно; газы; возможны запоры; возможно геморой", "Бесцветная, скудная, отходит с трудом", "Практически не потеете даже при интенсивной нагрузке", "Нерегулярное, склонность к сексуальным фантазиям", "Нерегулярные, скудные, с сильными болезненными спазмами", "Заболевания нервной системы, острые боли, артрит", "Плохо переносите сухость и холод, предпочитают тепло", "Не любите жесткий распорядок", "С трудом принимаете решения и быстро их меняете", "Плохая, легко запоминаете, но легко забываете", "Беспокойны, деятельны, подвижны, приспосабливающийся", "Творческое", "Работаете над несколькими проектами одновременно", "Много знакомых, но мало близких друзей", "Изменчивость, непостоянство, склонность к бунтарству", "Сколонность  к импульсивным расходам и считаете,  что деньги существуют для того, чтобы их тратить", "Боязливость, беспокойство, неврозность, страх", "Легко меняется", "Неглубокий, тенденция к бессонице", "Полеты, движение, беспокойные сны или кошмары"
      ],
      "B": [
        "Средний рост, умеренно развитое тело", "Средней величены", "Среднего размера", "Мягкие, вялые", "Средней величены, мягкие, вялые", "Стабильный. При желании легко набирает и сбрасывает вес", "Кожа жирная, склонная к образованаю прыщей и сыпи. На ощупь теплая", "Красноватый, с румянцем", "Средней величины, розовые, гладкие", "Тонкие, жирные, русые, рыжие или с ранней сединой; волосы рано редеют, возможно облысение", "Боль, инфекция", "Склеры красноватые или желтоватые", "Красные, воспаленные", "Темно красные, часто герпис, волдыри на губах", "Желтые, тонкая эмаль", "Склонность к воспалению и кровоточивости десен", "С желтоватым, слегка оранжевым или красноватым налетом", "Предпочтение белковой пищи, напитков с кофеином, а также горячей, острой и соленой пищи", "Сильный, невыносимый", "Быстрое, несварение с повышенной кислотностью", "Стул обильный, мягкий, более двух раз в день; ощущение жжения, возможны поносы; возможно гемморой в том числе кровоточащий", "Желтоватая, красноватая, обжигающая", "Сильное потоотделение с резким запохом", "Сильное, возбуждается легко", "Возможны обильные кровотечения, возможен понос", "Заболевания с повышенной темпиратурой, сыпи, восполения, язвы", "Предпочитаете прохладные, хорошо проветриваемые помещения, плохо переносят жару", "Любите планировать и проводить организационную работу, особенно, если проект полностью в вашем распоряжении", "Быстро принимаете решения, четко видете суть вещей", "Острая, ясная", "Развитый интеллект, проницательны, критичны, соперничество", "Организованное", "Постоянно ведете организованную работу, предпочитаете продвигаться к цели последовательно", " Очень разборчевы, но легко можете установить близкие, теплые отношения, и завести врага", "Решительность, фанатизм, склонность  к лидерству", " Планируете свои расходы и считаете, что деньги - это средство для достяжения цели", "Гнев, раздрожительность, сворливость", "Агрессивны в своих убеждения и чувствах, высказываете свое мнение даже тогда, когда вас об этом не просят", "Умеренный, можете просыпаться, но опять зазыпать снова", "Цветные, яркие, активные и страстные сны, иногда с конфликтными ситуациями"
      ],
      "C": [
        "Низкий рост, полнота, умеренно развитое тело", "Широкие, большие, хорошо или чрезмерно развитые", "Широкая, большая, хорошо или чрезмерно развитая", "Округлой формы, крепкие", "Большие, крепкие, хорошего строения", "Избыточный вес. Легко набрать вес, но тудно сбросить без физичсеких упражнений", "Толстая, хорошо увлажненная      На ощупь прохладная, но не холодная", "Белый, бледный", "Большие, толстые, гладкие, белые, крепкие, маслянистые", "Волосы густые, слегка волнистые, жирные, темные, блестящие", "Обильное выделение, закупорка", "Склонность к отекам век", "Застойные явления", "Полные, влажные", "Белые, крепкая эмаль", "Крепкие", "Опухший, с толстым, творожистым, белым налетом", "Предпочтение сладких, мучных и молочных продуктов", "Постоянный, слабый", "Медленное, несварение", "Обильный, плотный; один раз в день; возможны слизистые выделения; возможны запоры", "Беловатая, с молочным оттенком, колличество умеренное", "Умеренное потоотделение с приятным запахом", "Регулярно, возбуждается медленно", "Сопровождаются отеками, спазмы слабые или отсутсвуют", "Отеки, задержка жидкости и слизи, застойные явления, заболевания дыхательной системы", "Терпимо относитесь почти к любым климатическим уловиям, но плохо переносят влажность", "Хорошо работаете в рамках жесткого распорядка", "Принимаете решения медленно, отказываетесь от них с большим трудом", "Медленно запоминаете, но никогда не забываете", "Спокойный, урановешанны, заторможенны", "Продпочитаете следовать чужим идеям и планам", "Сопротивляетесь переменам и новым начинаниям, предпочитаете простоту", "У вас много друзей и вы хроните им верность", "Постоянство, склонность к консирватизму, лояльность ", "Экономны и берержливы, с трудо расстаетесь с деньгами", "Спокойствие, умирротворенность, привязанность, сентиментальность", "В трудных ситуациях страетесь не высказывать свое мнение", "Тяжелый, сложно проснутся", "Сновидения романтические, корроткие, вам часто снится вода, сновидений мало"
      ]
    }

    var scoreArr = {
      "A": 0,
      "B": 0,
      "C": 0
    };

    var accordanceArr = {
      "A": "Вата",
      "B": "Питта",
      "C": "Капха"
    };

    var redirect = (url) => {
      var ua = navigator.userAgent.toLowerCase(),
        isIE = ua.indexOf('msie') !== -1,
        version = parseInt(ua.substr(4, 2), 10);

      if (isIE && version < 9) {
        var link = document.createElement('a');
        link.href = url;
        document.body.appendChild(link);
        link.click();
      } else {
        window.location.href = url;
      }
    }

    var sortByVal = (obj) => {
      var tuples = [];

      for (var key in obj) tuples.push([key, obj[key]]);

      tuples.sort(function (a, b) {
        a = a[1];
        b = b[1];

        return a < b ? -1 : (a > b ? 1 : 0);
      });

      for (var i = 0; i < tuples.length; i++) {
        var key = tuples[i][0];
        var value = tuples[i][1];
      }

      return tuples
    };

    var guessAnswer = (res) => {
      res = sortByVal(res);

      return res[2][1] > 60 ? res[2][0] : res[2][0] + '-' + res[1][0]
    }

    var setQuestion = (nextId) => {
      let questionArr = {
        "Q": table["questions"][nextId],
        "A": table["A"][nextId],
        "B": table["B"][nextId],
        "C": table["C"][nextId]
      };

      document.querySelector(".mashvic-question").innerHTML = questionArr["Q"];

      document.querySelectorAll(".mashvic-answer").forEach((element, id) => {
        element.querySelector(".mashvic-answer-span").innerHTML = questionArr[element.dataset.type];
      });

    };

    document.addEventListener("DOMContentLoaded", function () {
      document.querySelector("#mashvic-question-number").innerHTML = table["questions"].length;
      document.querySelector("#mashvic-count").dataset.number = 1;
      document.querySelector("#mashvic-count").innerHTML = 1;

      setQuestion(0);
    });

    var block = 0;

    var calculate = (element) => {

      if (block == 1) {
        return;
      }

      block = 1;

      let type = element.dataset.type;
      nextQuestionNumber = parseInt(document.querySelector("#mashvic-count").dataset.number);

      scoreArr[type] += 1;

      element.classList = "mashvic-answer mashvic-answered";
      element.querySelector(".mashvic-dot").innerHTML = '<div class="mashvic-dot-inside-answered"></div>';

      setTimeout(() => {
        if (table["questions"].length > nextQuestionNumber) {
          document.querySelector("#mashvic-count").dataset.number = nextQuestionNumber + 1;
          document.querySelector("#mashvic-count").innerHTML = nextQuestionNumber + 1;
          element.classList = "mashvic-answer";
          element.querySelector(".mashvic-dot").innerHTML = '';
          setQuestion(nextQuestionNumber);

          block = 0;
        } else {
          element.classList = "mashvic-answer";
          element.querySelector(".mashvic-dot").innerHTML = '';

          let totalAnswered = parseInt(scoreArr["A"]) + parseInt(scoreArr["B"]) + parseInt(scoreArr["C"]);
          let scoreArrPercent = {
            "Вата": scoreArr["A"] / totalAnswered * 100,
            "Питта": scoreArr["B"] / totalAnswered * 100,
            "Капха": scoreArr["C"] / totalAnswered * 100
          };

          let result = guessAnswer(scoreArrPercent)

          if (result === 'Вата') {
            redirect('https://google.com');
          } else if (result === 'Питта') {
            redirect('https://yandex.ru');
          }
        }
      }, 350);
    };

  </script>
</body>

</html>